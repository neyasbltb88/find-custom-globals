!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=0)}([function(e,t){function o(e){return function(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}window.FindCustomGlobals=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,"srcScript",void 0),n(this,"defaultGlobals",void 0),n(this,"iframe",void 0),n(this,"storageKey","clearWindowProp"),n(this,"customGlobals",void 0),n(this,"nextCounter",0),n(this,"getGlobalName",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=t._validateIndex(e),t.customGlobals[e]}),n(this,"getGlobalValue",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e=t._validateIndex(e),window[t.customGlobals[e]]}),n(this,"getGlobal",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=t._validateIndex(e);var o=t.getGlobalName(e),n=t.getGlobalValue(e);return{index:e,name:o,value:n}}),n(this,"setNextGlobalCounter",function(e){return e=t._validateIndex(e),t.nextCounter=e,e}),n(this,"resetNextGlobalCounter",function(){return t.setNextGlobalCounter(0),0}),n(this,"showNextGlobal",function(){var e=t.nextCounter++;return t.nextCounter>=t.customGlobals.length&&t.resetNextGlobalCounter(),t.getGlobal(e)}),n(this,"showCustomGlobals",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o={};return t.customGlobals.forEach(function(e){o[e]=window[e]}),e&&console.log("CustomGlobals[".concat(Object.keys(o).length,"]: "),o),o}),n(this,"showCustomGlobalsNames",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=t.customGlobals;return e&&console.log("CustomGlobalsNames[".concat(o.length,"]: "),o),o}),n(this,"_validateIndex",function(e){return"number"==typeof e&&(e<0&&(e=0),e>=t.customGlobals.length&&(e=0),e)}),n(this,"_filterCustomGlobals",function(){for(var e in t.customGlobals=new Set,window)t.defaultGlobals.has(e)||t.customGlobals.add(e);t.customGlobals=o(t.customGlobals),t.showCustomGlobalsNames(!0)}),n(this,"_storageHandler",function(e){if(e.key===t.storageKey){try{t.defaultGlobals=new Set(JSON.parse(e.newValue))}catch(e){return console.log("Ошибка при JSON.parse(event.newValue): ",e),!1}finally{window.removeEventListener("storage",t._storageHandler),localStorage.removeItem(t.storageKey),t.iframe.remove()}t._filterCustomGlobals()}}),n(this,"_insertIframe",function(){window.addEventListener("storage",t._storageHandler,!1),t.iframe=document.createElement("iframe"),t.iframe.width="1",t.iframe.height="1",t.iframe.style.border="none",t.iframe.style.opacity="0",t.iframe.style.position="absolute",document.head.appendChild(t.iframe),t.iframe.src="javascript:".concat(t.srcScript)}),n(this,"run",function(){t.defaultGlobals=void 0,t.customGlobals=void 0,t.nextCounter=0,t._insertIframe()}),this.srcScript="\n            let arr = [];\n            for(let prop in window) {\n                arr.push(prop)\n            }\n            let windowProp = JSON.stringify(arr);            \n            localStorage.setItem('".concat(this.storageKey,"', windowProp);\n        "),this.run()}}]);